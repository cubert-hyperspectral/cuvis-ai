name: ''
nodes:
- name: lentils_data_node
  class_name: cuvis_ai.node.data.LentilsAnomalyDataNode
  hparams:
    normal_class_ids:
    - 0
    - 1
- name: baseline_rgb_selector
  class_name: cuvis_ai.node.channel_selector.FixedWavelengthSelector
  hparams:
    target_wavelengths:
    - 650.0
    - 550.0
    - 450.0
- name: adaclip_detector
  class_name: cuvis_ai_adaclip.node.adaclip_node.AdaCLIPDetector
  hparams:
    weight_name: pretrained_all
    backbone: ViT-L-14-336
    prompt_text: anomaly
    image_size: 518
    prompting_depth: 4
    prompting_length: 5
    gaussian_sigma: 4.0
    use_half_precision: false
    enable_warmup: false
    enable_gradients: false
- name: quantile_decider
  class_name: cuvis_ai.deciders.binary_decider.QuantileBinaryDecider
  hparams:
    quantile: 0.995
    reduce_dims: null
- name: score_heatmap_viz
  class_name: cuvis_ai.node.anomaly_visualization.ScoreHeatmapVisualizer
  hparams:
    normalize_scores: true
    cmap: inferno
    up_to: 3
- name: rgb_anomaly_mask_viz
  class_name: cuvis_ai.node.anomaly_visualization.RGBAnomalyMask
  hparams:
    up_to: 3
- name: anomaly_metrics
  class_name: cuvis_ai.node.metrics.AnomalyDetectionMetrics
  hparams:
    execution_stages: null
- name: tensorboard_monitor
  class_name: cuvis_ai.node.monitor.TensorBoardMonitorNode
  hparams:
    output_dir: outputs\tensorboard
    run_name: AdaCLIP_Baseline
    comment: ''
    flush_secs: 120
connections:
- source: lentils_data_node.outputs.cube
  target: baseline_rgb_selector.inputs.cube
- source: lentils_data_node.outputs.wavelengths
  target: baseline_rgb_selector.inputs.wavelengths
- source: lentils_data_node.outputs.mask
  target: anomaly_metrics.inputs.targets
- source: lentils_data_node.outputs.mask
  target: rgb_anomaly_mask_viz.inputs.mask
- source: baseline_rgb_selector.outputs.rgb_image
  target: adaclip_detector.inputs.rgb_image
- source: baseline_rgb_selector.outputs.rgb_image
  target: rgb_anomaly_mask_viz.inputs.rgb_image
- source: adaclip_detector.outputs.scores
  target: quantile_decider.inputs.logits
- source: adaclip_detector.outputs.scores
  target: score_heatmap_viz.inputs.scores
- source: adaclip_detector.outputs.scores
  target: rgb_anomaly_mask_viz.inputs.scores
- source: quantile_decider.outputs.decisions
  target: anomaly_metrics.inputs.decisions
- source: quantile_decider.outputs.decisions
  target: rgb_anomaly_mask_viz.inputs.decisions
- source: score_heatmap_viz.outputs.artifacts
  target: tensorboard_monitor.inputs.artifacts
- source: rgb_anomaly_mask_viz.outputs.artifacts
  target: tensorboard_monitor.inputs.artifacts
- source: anomaly_metrics.outputs.metrics
  target: tensorboard_monitor.inputs.metrics
metadata:
  name: AdaCLIP_Baseline
  description: "Statistical AdaCLIP baseline pipeline (LentilsAnomalyDataNode \u2192\
    \ BaselineFalseRGBSelector \u2192 AdaCLIPDetector)"
  created: ''
  tags:
  - statistical
  - adaclip
  - baseline
  author: cuvis.ai
  cuvis_ai_version: 0.1.5.post30+g6d28af5c2.d20251217
